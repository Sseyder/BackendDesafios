<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <input/>
    <span></span>
</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/rxjs/8.0.0-alpha.2/rxjs.umd.min.js"></script>
<script>

//Importamos de la libreria RXJS.
const { fromEvent } = rxjs;

//Tomamos los elementos de el DOM
const input = document.getElementsByTagName('input')[0];
const span = document.getElementsByTagName('span')[0];

const observableInput = fromEvent(input, 'input');

// Si el texto que se ingresa es "error" el observer se desubscribe dando un mensaje de error por consola
// Si el texto que se ingresa es "complete" el observer tambien se desubscribe dando un mensaje de completado por consola

const next = (event) => {
    let text = event.target.value;

    if (text === 'error') {
        console.error('El usuario ingres贸 "error"');
        subscription.unsubscribe();
    } else if (text === 'complete') {
        console.info('El usuario ingres贸 "complete"');
        subscription.unsubscribe();
    } else
        span.innerHTML = texto.split('').reverse().join('');
}

const subscription = observableInput.subscribe(next)

//Luego de 30 segundos el observable se desubscribe automaticamente y da un mensaje por consola
setTimeout(() => {
    subscription.unsubscribe();
    input.disabled = true;
    span.innerHTML = '';
    console.info('La subscripci贸n al observerber finaliz贸 por tiempo estimado agotado');
}, 30000)

</script>
</html>